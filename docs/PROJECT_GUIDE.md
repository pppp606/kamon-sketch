# Project Guide: kamon-sketch

## 🎯 基本方針
- **目的は「遊び」**  
  - 幾何学的な描画を通じて楽しむことが最優先
  - 効率性や正確な製図ツールを目指さない
- **学びは副次的効果**  
  - 教育的な雰囲気は出さない（子供は教育目的を嫌う）
  - 遊んでいるうちに自然と幾何学に触れられる

---

## 🧭 重要なテーマ
- **描く体験が主役**  
  - コンパスでクルクル描く「書き味」を重視
  - 普通のグラフィックツールの「ドラッグで円生成」とは違う
- **子供に寄せすぎないUI**  
  - 子供っぽいデザインは避ける
  - シンプルでニュートラル、大人でも違和感なく使える
  - 楽しさはUIではなく「操作感・偶然性」で表現
- **余計な機能は入れない**  
  - 複雑になりすぎるとFigmaやIllustratorでよい、となってしまう
  - MVPはあくまで「遊びを体験できる最小機能」

---

## 🛠️ MVPの基本機能
1. コンパス風の円弧描画  
   - 中心点 → 半径点 → ドラッグで弧を描く
2. 直線描画  
   - 始点と終点を指定
3. 線や弧の選択  
   - 描画済みの線上を拾い、新しい線/弧を始められる
4. 分割  
   - 線分や半径を 1/2, 1/3 などに分割
5. 塗りつぶし  
   - 囲んだ領域を黒や色で塗れる

---

## 🌱 将来的な拡張アイデア
- 墨・和紙の質感（筆跡っぽさ）
- 線の揺れやかすれ（偶然性）
- 回転コピーや対称表現（模様を広げやすく）
- SVG/PNG エクスポート
- 子供向けに「遊びの導線（お題機能）」を追加する可能性あり

---

## 📋 開発ルール（AIエージェント向け）
- **TDD（Red-Green-Refactor）** を必ず実施
- **Build-Test-Execute Cycle** を守る
  1. `npm run build`
  2. `node dist/index.js` で動作確認
  3. `npm run typecheck`, `npm run lint`, `npm test`
- **テスト戦略**
  - ユニットテスト: 幾何計算ロジック
  - スナップショットテスト: Canvas描画結果
  - スモークテスト: p5スケッチが初期化できること
  - E2Eテスト: 将来的にPlaywrightで導入
- **コミットポリシー**
  - マイクロコミット（1コミット = 1つのコンテキスト）
  - PR時にタスク完了チェックを更新する

---

## 📖 まとめ
このプロジェクトは **「遊びのための幾何学スケッチアプリ」** です。  
- 子供から大人まで、誰もが「描くことを楽しめる」体験を提供します。  
- 正確さ・効率性よりも「遊び心地」「偶然性」「発見」を大切にします。  

